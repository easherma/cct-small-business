import React, { useEffect, useState, useRef, useLayoutEffect } from 'react'
import Container from 'react-bootstrap/Container'

const LineSvg = () => {
  // textInput must be declared here so the ref can refer to it
  const linePath = useRef(null)
  useLayoutEffect(() => {
    const topPosition = linePath.current.getBoundingClientRect().top
    const path = linePath.current
    const pathLength = path.getTotalLength()
    path.style.strokeDasharray = pathLength
    // path.style.strokeDashoffset = pathLength
    const onScroll = () => {
      // What % down is it?
      let scrollPercentage =
        (document.documentElement.scrollTop + document.body.scrollTop) /
          (document.documentElement.scrollHeight -
            document.documentElement.clientHeight) +
        10

      // Length to offset the dashes
      let drawLength = pathLength * scrollPercentage

      // Draw in reverse
      path.style.strokeDashoffset = pathLength - drawLength
    }

    window.addEventListener('scroll', onScroll)
    return () => window.removeEventListener('scroll', onScroll)
    /* 
       remove the event listener in the cleanup function 
       to prevent memory leaks
    */
  }, [])
  return (
    <svg
      id="svg"
      width="1480"
      height="auto"
      viewBox="0 0 1148 14873"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M887.991 2C876.814 44.0281 873.215 128.084 766.375 170.688C693.373 199.798 577.132 181.627 463.472 170.688C349.813 159.749 222.048 162.309 144.72 258.635C55.4168 369.878 69.781 508.545 120.359 580.511C170.938 652.477 233.416 745.873 435.162 728.601C632.436 711.712 702.364 661.962 838.689 671.92C921.249 677.951 979.249 696.247 1071.21 799.069C1124.94 859.139 1131.65 955.774 1131.65 1099.97C1131.65 1187.05 1096.05 1263.22 1016.05 1298.39C933.689 1334.6 854.069 1323.29 768.91 1277.54C735.859 1259.79 683.714 1203.8 553.015 1187.05C435.69 1172.02 357.425 1181.1 331.832 1245.44C310.586 1298.85 359.2 1344.56 421.757 1354.97C484.314 1365.38 541.208 1359.03 573.947 1412.5C606.686 1465.97 596.365 1589.79 553.015 1661.47C514.72 1724.79 433.372 1779.57 245.632 1740.13C179.779 1726.3 87.2911 1753.36 55.4168 1798.17C23.5425 1842.98 13.0919 1884.43 21.4524 1955.97C29.8129 2027.52 89.8663 2101.31 131.184 2128.86C229.942 2194.69 313.024 2210.87 449.927 2225.35C740.169 2256.05 779.676 2108.92 962.006 2134.89C1127.84 2158.51 1163.64 2274 1120.33 2403.76C1082 2518.62 988.256 2539.45 832.419 2539.45C495.86 2539.45 488.071 2758.46 488.071 2818.88C488.071 2879.3 510.565 2978.19 691.336 3053.07C758.219 3080.78 875.792 3064.63 896.167 3143.54C933.873 3289.55 713.282 3279.87 601.983 3246.06C469.581 3205.84 193.918 3178.67 100.595 3279.87C-16.6988 3407.05 66.0996 3578.37 170.972 3658.26C300.521 3756.94 425.57 3776.72 510.565 3784.11C595.56 3791.49 705.286 3784.11 800.544 3784.11C907.473 3784.11 1017.04 3813.67 1063.6 3895.43C1129.4 4010.98 1125.23 4217.35 971.318 4313.01C864.389 4379.47 662.734 4366.83 510.565 4338.64C358.397 4310.44 239.133 4311.62 136.313 4363.98C28.9972 4418.63 -32.3036 4549.26 27.3295 4700.31C64.5943 4794.69 160.99 4849.33 255.581 4867.46C455.624 4905.79 712.081 4825.36 833.285 4827.19C954.489 4829.02 1071.67 4887.05 1119.71 4999.3C1167.74 5111.55 1150.45 5327.4 1014.26 5445.29C915.956 5530.38 820.556 5550.83 510.565 5475.94C361.097 5439.84 181.648 5459.1 71.6152 5611.64C-38.4177 5764.17 25.5399 5960.53 103.388 6036.32C183.818 6114.62 264.807 6141.78 379.866 6139.97C494.926 6138.16 658.579 6055.33 820.556 6072.53C979.499 6089.4 1047.88 6144.04 1074.13 6222.34C1100.39 6300.65 1066.87 6349.53 1022.19 6381.21C977.507 6412.9 875.852 6448.2 860.213 6554.57C845.975 6651.4 917.71 6727.89 949.579 6764.58C1019.96 6845.6 1022.19 6891.77 1022.19 6942.46C1022.19 6993.15 1009.34 7071.46 897.077 7082.77C780.65 7094.51 668.633 7026.74 504.421 7017.59C340.21 7008.45 67.9575 7106.27 67.9575 7367.1C67.9575 7539.09 151.13 7705.1 375.664 7751.72C600.198 7798.34 704.225 7745.58 813.562 7720.49C921.249 7695.77 1175.68 7760.07 1014.26 8023.95C870.415 8259.1 1127.79 8470.52 787.688 8430.75C400.618 8385.49 162.489 8525.9 130.661 8746.64C116.023 8848.16 142.09 8992.43 256.591 9079.34C371.092 9166.24 541.797 9116.02 689.245 9116.02C813.607 9116.02 926.837 9131.05 1000.67 9239.15C1047.7 9308 1079.05 9372.61 1079.05 9552.75C1079.05 9747.82 959.762 9894.32 735.228 9852.79C534.85 9815.72 385.58 9801.52 256.591 9888.47C96.4762 9996.39 82.4448 10207.1 157.833 10338.8C233.221 10470.4 320.231 10463.6 385.58 10572.2C424.583 10637.1 391.724 10765.1 307.943 10824.3C224.162 10883.6 56.004 10939.2 80.6163 11099.5C94.5799 11190.5 223.045 11255.7 348.717 11281C474.389 11306.4 612.803 11281 747.246 11281C879.969 11281 1010.11 11350.1 1038.59 11533.4C1069.61 11733 1016.57 11898.7 879.969 11978.3C699.001 12083.8 517.333 12023.9 307.943 12099.3C101.457 12173.6 14.9564 12413 106.557 12611.7C198.158 12810.4 396.701 12845.3 540.847 12835.5C785.391 12818.9 916.023 12869.2 982.907 12972.7C1077.77 13119.5 1054.53 13335.3 982.907 13423C913.411 13508.1 830.096 13562.6 592.489 13508.1C370.748 13457.3 179.737 13570.1 106.557 13720C57.5068 13820.5 35.9799 13978.2 151.04 14145.2C266.099 14312.2 421.773 14311 639.605 14311C798.79 14311 953.859 14338.7 1063.33 14455.9C1114.14 14510.4 1191.8 14686.3 1098.52 14871"
        className="line"
        stroke="#D8FE4F"
        strokeWidth="8"
      />
      <path
        ref={linePath}
        className="lineDraw"
        d="M887.991 2C876.814 44.0281 873.215 128.084 766.375 170.688C693.373 199.798 577.132 181.627 463.472 170.688C349.813 159.749 222.048 162.309 144.72 258.635C55.4168 369.878 69.781 508.545 120.359 580.511C170.938 652.477 233.416 745.873 435.162 728.601C632.436 711.712 702.364 661.962 838.689 671.92C921.249 677.951 979.249 696.247 1071.21 799.069C1124.94 859.139 1131.65 955.774 1131.65 1099.97C1131.65 1187.05 1096.05 1263.22 1016.05 1298.39C933.689 1334.6 854.069 1323.29 768.91 1277.54C735.859 1259.79 683.714 1203.8 553.015 1187.05C435.69 1172.02 357.425 1181.1 331.832 1245.44C310.586 1298.85 359.2 1344.56 421.757 1354.97C484.314 1365.38 541.208 1359.03 573.947 1412.5C606.686 1465.97 596.365 1589.79 553.015 1661.47C514.72 1724.79 433.372 1779.57 245.632 1740.13C179.779 1726.3 87.2911 1753.36 55.4168 1798.17C23.5425 1842.98 13.0919 1884.43 21.4524 1955.97C29.8129 2027.52 89.8663 2101.31 131.184 2128.86C229.942 2194.69 313.024 2210.87 449.927 2225.35C740.169 2256.05 779.676 2108.92 962.006 2134.89C1127.84 2158.51 1163.64 2274 1120.33 2403.76C1082 2518.62 988.256 2539.45 832.419 2539.45C495.86 2539.45 488.071 2758.46 488.071 2818.88C488.071 2879.3 510.565 2978.19 691.336 3053.07C758.219 3080.78 875.792 3064.63 896.167 3143.54C933.873 3289.55 713.282 3279.87 601.983 3246.06C469.581 3205.84 193.918 3178.67 100.595 3279.87C-16.6988 3407.05 66.0996 3578.37 170.972 3658.26C300.521 3756.94 425.57 3776.72 510.565 3784.11C595.56 3791.49 705.286 3784.11 800.544 3784.11C907.473 3784.11 1017.04 3813.67 1063.6 3895.43C1129.4 4010.98 1125.23 4217.35 971.318 4313.01C864.389 4379.47 662.734 4366.83 510.565 4338.64C358.397 4310.44 239.133 4311.62 136.313 4363.98C28.9972 4418.63 -32.3036 4549.26 27.3295 4700.31C64.5943 4794.69 160.99 4849.33 255.581 4867.46C455.624 4905.79 712.081 4825.36 833.285 4827.19C954.489 4829.02 1071.67 4887.05 1119.71 4999.3C1167.74 5111.55 1150.45 5327.4 1014.26 5445.29C915.956 5530.38 820.556 5550.83 510.565 5475.94C361.097 5439.84 181.648 5459.1 71.6152 5611.64C-38.4177 5764.17 25.5399 5960.53 103.388 6036.32C183.818 6114.62 264.807 6141.78 379.866 6139.97C494.926 6138.16 658.579 6055.33 820.556 6072.53C979.499 6089.4 1047.88 6144.04 1074.13 6222.34C1100.39 6300.65 1066.87 6349.53 1022.19 6381.21C977.507 6412.9 875.852 6448.2 860.213 6554.57C845.975 6651.4 917.71 6727.89 949.579 6764.58C1019.96 6845.6 1022.19 6891.77 1022.19 6942.46C1022.19 6993.15 1009.34 7071.46 897.077 7082.77C780.65 7094.51 668.633 7026.74 504.421 7017.59C340.21 7008.45 67.9575 7106.27 67.9575 7367.1C67.9575 7539.09 151.13 7705.1 375.664 7751.72C600.198 7798.34 704.225 7745.58 813.562 7720.49C921.249 7695.77 1175.68 7760.07 1014.26 8023.95C870.415 8259.1 1127.79 8470.52 787.688 8430.75C400.618 8385.49 162.489 8525.9 130.661 8746.64C116.023 8848.16 142.09 8992.43 256.591 9079.34C371.092 9166.24 541.797 9116.02 689.245 9116.02C813.607 9116.02 926.837 9131.05 1000.67 9239.15C1047.7 9308 1079.05 9372.61 1079.05 9552.75C1079.05 9747.82 959.762 9894.32 735.228 9852.79C534.85 9815.72 385.58 9801.52 256.591 9888.47C96.4762 9996.39 82.4448 10207.1 157.833 10338.8C233.221 10470.4 320.231 10463.6 385.58 10572.2C424.583 10637.1 391.724 10765.1 307.943 10824.3C224.162 10883.6 56.004 10939.2 80.6163 11099.5C94.5799 11190.5 223.045 11255.7 348.717 11281C474.389 11306.4 612.803 11281 747.246 11281C879.969 11281 1010.11 11350.1 1038.59 11533.4C1069.61 11733 1016.57 11898.7 879.969 11978.3C699.001 12083.8 517.333 12023.9 307.943 12099.3C101.457 12173.6 14.9564 12413 106.557 12611.7C198.158 12810.4 396.701 12845.3 540.847 12835.5C785.391 12818.9 916.023 12869.2 982.907 12972.7C1077.77 13119.5 1054.53 13335.3 982.907 13423C913.411 13508.1 830.096 13562.6 592.489 13508.1C370.748 13457.3 179.737 13570.1 106.557 13720C57.5068 13820.5 35.9799 13978.2 151.04 14145.2C266.099 14312.2 421.773 14311 639.605 14311C798.79 14311 953.859 14338.7 1063.33 14455.9C1114.14 14510.4 1191.8 14686.3 1098.52 14871"
        stroke="#2cd0af"
        strokeWidth="8"
      />
    </svg>
  )
}

export default LineSvg
