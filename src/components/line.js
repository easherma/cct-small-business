import React, { useEffect, useState, useRef, useLayoutEffect } from 'react'
import Container from 'react-bootstrap/Container'
import Row from 'react-bootstrap/Row'

const LineSvg = () => {
  // textInput must be declared here so the ref can refer to it
  const linePath = useRef(null)
  useLayoutEffect(() => {
    const topPosition = linePath.current.getBoundingClientRect().top
    const path = linePath.current
    const pathLength = path.getTotalLength()
    path.style.strokeDasharray = pathLength
    // path.style.strokeDashoffset = pathLength
    const onScroll = () => {
      // What % down is it?
      let scrollPercentage =
        (document.documentElement.scrollTop + document.body.scrollTop) /
          (document.documentElement.scrollHeight -
            document.documentElement.clientHeight) +
        10

      // Length to offset the dashes
      let drawLength = pathLength * scrollPercentage

      // Draw in reverse
      path.style.strokeDashoffset = pathLength - drawLength
    }

    window.addEventListener('scroll', onScroll)
    return () => window.removeEventListener('scroll', onScroll)
    /* 
       remove the event listener in the cleanup function 
       to prevent memory leaks
    */
  }, [])
  return (
    <div className="svg-container ">
      <svg
        id="svg"
        width="1148"
        height="15832"
        viewBox="0 0 1148 15832"
        preserveAspectRatio="xMinyMin meet"
        className="svg-content"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M887.991 1C876.814 45.7415 873.215 135.225 766.375 180.579C693.373 211.569 577.132 192.224 463.472 180.579C349.813 168.934 222.048 171.66 144.72 274.204C55.4168 392.63 69.781 540.249 120.359 616.862C170.938 693.474 233.416 792.9 435.162 774.513C632.436 756.534 702.364 703.571 838.689 714.172C921.249 720.593 979.249 740.07 1071.21 849.531C1124.94 913.479 1131.65 1016.35 1131.65 1169.86C1131.65 1262.56 1096.05 1343.65 1016.05 1381.09C933.689 1419.64 854.069 1407.59 768.91 1358.9C735.859 1340 683.714 1280.39 553.015 1262.56C435.69 1246.56 357.425 1256.23 331.832 1324.72C310.586 1381.58 359.2 1430.24 421.757 1441.32C484.314 1452.41 541.208 1445.65 573.947 1502.57C606.686 1559.49 596.365 1691.3 553.015 1767.61C514.72 1835.02 433.372 1893.33 245.632 1851.35C179.779 1836.63 87.2911 1865.43 55.4168 1913.14C23.5425 1960.84 13.0919 2004.96 21.4524 2081.13C29.8129 2157.3 89.8663 2235.85 131.184 2265.18C229.942 2335.26 313.024 2352.48 449.927 2367.9C740.169 2400.58 779.676 2243.95 962.006 2271.6C1127.84 2296.74 1163.64 2419.69 1120.33 2557.83C1082 2680.1 988.256 2702.28 832.419 2702.28C495.86 2702.28 488.071 2935.43 488.071 2999.75C488.071 3064.07 510.565 3169.35 691.336 3249.06C758.219 3278.56 875.792 3261.37 896.167 3345.37C933.873 3500.81 713.282 3490.5 601.983 3454.51C469.581 3411.7 193.918 3382.77 100.595 3490.5C-16.6988 3625.9 66.0996 3808.28 170.972 3893.32C300.521 3998.37 425.57 4019.43 510.565 4027.29C595.56 4035.16 705.286 4027.29 800.544 4027.29C907.473 4027.29 1017.04 4058.76 1063.6 4145.8C1129.4 4268.82 1125.23 4488.51 971.318 4590.35C864.389 4661.1 662.734 4647.64 510.565 4617.63C358.397 4587.61 239.133 4588.87 136.313 4644.61C28.9972 4702.79 -32.3036 4841.85 27.3295 5002.65C64.5943 5103.13 160.99 5161.3 255.581 5180.59C455.624 5221.4 712.081 5135.77 833.285 5137.72C954.489 5139.67 1071.67 5201.45 1119.71 5320.95C1167.74 5440.45 1150.45 5670.23 1014.26 5795.73C915.956 5886.31 820.556 5908.08 510.565 5828.36C361.097 5789.92 181.648 5810.43 71.6152 5972.82C-38.4177 6135.2 25.5399 6344.23 103.388 6424.92C183.818 6508.27 264.807 6537.19 379.866 6535.26C494.926 6533.33 658.579 6445.15 820.556 6463.46C979.499 6481.43 1047.88 6539.59 1074.13 6622.95C1100.39 6706.31 1066.87 6758.35 1022.19 6792.08C977.507 6825.81 875.852 6863.39 860.213 6976.62C845.975 7079.71 917.71 7161.14 949.579 7200.2C1019.96 7286.45 1022.19 7335.6 1022.19 7389.56C1022.19 7443.53 1009.34 7526.89 897.077 7538.93C780.65 7551.43 668.633 7479.28 504.421 7469.55C340.21 7459.82 67.9575 7563.95 67.9575 7841.62C67.9575 8024.72 151.13 8201.44 375.664 8251.07C600.198 8300.7 704.225 8244.53 813.562 8217.82C921.249 8191.51 1175.68 8259.96 1014.26 8540.88C870.415 8791.21 1127.79 9016.28 787.688 8973.94C400.618 8925.76 162.489 9075.24 130.661 9310.23C116.023 9418.3 142.09 9571.89 256.591 9664.41C371.092 9756.92 541.797 9703.46 689.245 9703.46C813.607 9703.46 926.837 9719.46 1000.67 9834.54C1047.7 9907.84 1079.05 9976.61 1079.05 10168.4C1079.05 10376 959.762 10532 735.228 10487.8C534.85 10448.3 385.58 10433.2 256.591 10525.8C96.4762 10640.7 82.4448 10865 157.833 11005.1C233.221 11145.3 320.231 11138.1 385.58 11253.7C424.583 11322.7 391.724 11459 307.943 11522.1C224.162 11585.2 56.004 11644.3 80.6163 11815C94.5799 11911.9 223.045 11981.3 348.717 12008.3C474.389 12035.2 612.803 12008.3 747.246 12008.3C879.969 12008.3 1010.11 12081.8 1038.59 12276.9C1069.61 12489.4 1016.57 12665.8 879.969 12750.6C699.001 12862.8 517.333 12799 307.943 12879.3C101.457 12958.4 14.9564 13213.3 106.557 13424.8C198.158 13636.4 396.701 13673.5 540.847 13663.1C785.391 13645.4 916.023 13698.9 982.907 13809.2C1077.77 13965.5 1054.53 14195.1 982.907 14288.5C913.411 14379.2 830.096 14437.1 592.489 14379.2C370.748 14325.1 179.737 14445.1 106.557 14604.7C57.5068 14711.7 35.9799 14879.5 151.04 15057.3C266.099 15235.1 421.773 15233.9 639.605 15233.9C798.79 15233.9 953.859 15263.4 1063.33 15388.2C1114.14 15446.1 1191.8 15633.4 1098.52 15830"
          className="line"
          stroke="#D8FE4F"
          strokeWidth="8"
        />
        <path
          ref={linePath}
          className="lineDraw"
          d="M887.991 1C876.814 45.7415 873.215 135.225 766.375 180.579C693.373 211.569 577.132 192.224 463.472 180.579C349.813 168.934 222.048 171.66 144.72 274.204C55.4168 392.63 69.781 540.249 120.359 616.862C170.938 693.474 233.416 792.9 435.162 774.513C632.436 756.534 702.364 703.571 838.689 714.172C921.249 720.593 979.249 740.07 1071.21 849.531C1124.94 913.479 1131.65 1016.35 1131.65 1169.86C1131.65 1262.56 1096.05 1343.65 1016.05 1381.09C933.689 1419.64 854.069 1407.59 768.91 1358.9C735.859 1340 683.714 1280.39 553.015 1262.56C435.69 1246.56 357.425 1256.23 331.832 1324.72C310.586 1381.58 359.2 1430.24 421.757 1441.32C484.314 1452.41 541.208 1445.65 573.947 1502.57C606.686 1559.49 596.365 1691.3 553.015 1767.61C514.72 1835.02 433.372 1893.33 245.632 1851.35C179.779 1836.63 87.2911 1865.43 55.4168 1913.14C23.5425 1960.84 13.0919 2004.96 21.4524 2081.13C29.8129 2157.3 89.8663 2235.85 131.184 2265.18C229.942 2335.26 313.024 2352.48 449.927 2367.9C740.169 2400.58 779.676 2243.95 962.006 2271.6C1127.84 2296.74 1163.64 2419.69 1120.33 2557.83C1082 2680.1 988.256 2702.28 832.419 2702.28C495.86 2702.28 488.071 2935.43 488.071 2999.75C488.071 3064.07 510.565 3169.35 691.336 3249.06C758.219 3278.56 875.792 3261.37 896.167 3345.37C933.873 3500.81 713.282 3490.5 601.983 3454.51C469.581 3411.7 193.918 3382.77 100.595 3490.5C-16.6988 3625.9 66.0996 3808.28 170.972 3893.32C300.521 3998.37 425.57 4019.43 510.565 4027.29C595.56 4035.16 705.286 4027.29 800.544 4027.29C907.473 4027.29 1017.04 4058.76 1063.6 4145.8C1129.4 4268.82 1125.23 4488.51 971.318 4590.35C864.389 4661.1 662.734 4647.64 510.565 4617.63C358.397 4587.61 239.133 4588.87 136.313 4644.61C28.9972 4702.79 -32.3036 4841.85 27.3295 5002.65C64.5943 5103.13 160.99 5161.3 255.581 5180.59C455.624 5221.4 712.081 5135.77 833.285 5137.72C954.489 5139.67 1071.67 5201.45 1119.71 5320.95C1167.74 5440.45 1150.45 5670.23 1014.26 5795.73C915.956 5886.31 820.556 5908.08 510.565 5828.36C361.097 5789.92 181.648 5810.43 71.6152 5972.82C-38.4177 6135.2 25.5399 6344.23 103.388 6424.92C183.818 6508.27 264.807 6537.19 379.866 6535.26C494.926 6533.33 658.579 6445.15 820.556 6463.46C979.499 6481.43 1047.88 6539.59 1074.13 6622.95C1100.39 6706.31 1066.87 6758.35 1022.19 6792.08C977.507 6825.81 875.852 6863.39 860.213 6976.62C845.975 7079.71 917.71 7161.14 949.579 7200.2C1019.96 7286.45 1022.19 7335.6 1022.19 7389.56C1022.19 7443.53 1009.34 7526.89 897.077 7538.93C780.65 7551.43 668.633 7479.28 504.421 7469.55C340.21 7459.82 67.9575 7563.95 67.9575 7841.62C67.9575 8024.72 151.13 8201.44 375.664 8251.07C600.198 8300.7 704.225 8244.53 813.562 8217.82C921.249 8191.51 1175.68 8259.96 1014.26 8540.88C870.415 8791.21 1127.79 9016.28 787.688 8973.94C400.618 8925.76 162.489 9075.24 130.661 9310.23C116.023 9418.3 142.09 9571.89 256.591 9664.41C371.092 9756.92 541.797 9703.46 689.245 9703.46C813.607 9703.46 926.837 9719.46 1000.67 9834.54C1047.7 9907.84 1079.05 9976.61 1079.05 10168.4C1079.05 10376 959.762 10532 735.228 10487.8C534.85 10448.3 385.58 10433.2 256.591 10525.8C96.4762 10640.7 82.4448 10865 157.833 11005.1C233.221 11145.3 320.231 11138.1 385.58 11253.7C424.583 11322.7 391.724 11459 307.943 11522.1C224.162 11585.2 56.004 11644.3 80.6163 11815C94.5799 11911.9 223.045 11981.3 348.717 12008.3C474.389 12035.2 612.803 12008.3 747.246 12008.3C879.969 12008.3 1010.11 12081.8 1038.59 12276.9C1069.61 12489.4 1016.57 12665.8 879.969 12750.6C699.001 12862.8 517.333 12799 307.943 12879.3C101.457 12958.4 14.9564 13213.3 106.557 13424.8C198.158 13636.4 396.701 13673.5 540.847 13663.1C785.391 13645.4 916.023 13698.9 982.907 13809.2C1077.77 13965.5 1054.53 14195.1 982.907 14288.5C913.411 14379.2 830.096 14437.1 592.489 14379.2C370.748 14325.1 179.737 14445.1 106.557 14604.7C57.5068 14711.7 35.9799 14879.5 151.04 15057.3C266.099 15235.1 421.773 15233.9 639.605 15233.9C798.79 15233.9 953.859 15263.4 1063.33 15388.2C1114.14 15446.1 1191.8 15633.4 1098.52 15830"
          stroke="#2cd0af"
          strokeWidth="8"
        />
      </svg>
    </div>
  )
}

export default LineSvg
